<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Docker安装</title>
      <link href="/li/a3201697.html"/>
      <url>/li/a3201697.html</url>
      
        <content type="html"><![CDATA[<p><strong>CentOS 7</strong></p><p>检查环境</p><ol><li><p>检查内核版本，返回的值大于3.10即可</p><pre><code>uname -r</code></pre><p>卸载</p><p>1.查询安装过的包</p><p>yum list installed | grep docker<br>docker-engine.x86_64                 17.03.0.ce-1.el7.centos         @dockerrepo</p><p>2.删除安装的软件包</p><p>yum -y remove docker-engine.x86_64</p></li></ol><pre><code>3.删除镜像/容器等rm -rf /var/lib/docker</code></pre><p>Centos7安装配置docker</p><ol start="2"><li><p>安装需要的软件包，yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的</p><pre><code>  yum install -y yum-utils device-mapper-persistent-data lvm2</code></pre></li><li><p>设置yum源</p><pre><code>  yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</code></pre></li><li><p>可以查看所有仓库中所有docker版本，并选择特定版本安装</p><pre><code>    yum list docker-ce --showduplicates | sort -r</code></pre></li><li><p>安装docker<br>​            选择最新安装即可</p><pre><code>    yum install docker-ce-19.03.9-3.el7</code></pre></li><li><p>验证安装</p><pre><code> docker -v</code></pre></li><li><p>启动并加入开机启动</p><pre><code>       systemctl start docker       systemctl enable docker</code></pre></li></ol><hr><p><strong>CentOS 8</strong></p><p><a href="https://docs.docker.com/engine/install/centos/" target="blank">官方参考地址</a></p><p>安装依赖</p><pre class="line-numbers language-javascript"><code class="language-javascript">yum install <span class="token operator">-</span>y yum<span class="token operator">-</span>utils device<span class="token operator">-</span>mapper<span class="token operator">-</span>persistent<span class="token operator">-</span>data lvm2yum<span class="token operator">-</span>config<span class="token operator">-</span>manager <span class="token operator">--</span>add<span class="token operator">-</span>repo  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>download<span class="token punctuation">.</span>docker<span class="token punctuation">.</span>com<span class="token operator">/</span>linux<span class="token operator">/</span>centos<span class="token operator">/</span>docker<span class="token operator">-</span>ce<span class="token punctuation">.</span>repoyum install docker<span class="token operator">-</span>ce docker<span class="token operator">-</span>ce<span class="token operator">-</span>cli containerd<span class="token punctuation">.</span>io<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果报错：Problem: package docker-ce-3:19.03.4-3.el7.x86_64 requires containerd.io &gt;= 1.2.2-3 那就先装新版的 containerd.io</p><p>安装新版本containerd.io</p><pre class="line-numbers language-javascript"><code class="language-javascript">rpm <span class="token operator">-</span>i 包名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>再装剩下两个</p><pre><code>yum install docker-ce docker-ce-cli</code></pre><p>启动docker</p><pre><code>systemctl start docker</code></pre><p>查看版本</p><pre><code>docker --version</code></pre><p>开机自启</p><pre><code>systemctl enable docker</code></pre><hr><p><strong>Debian</strong><br>环境</p><ol><li>卸载旧版本<br>旧版本的 Docker 称为 docker 或者 docker-engine，使用以下命令卸载旧版本<pre><code>  apt-get remove docker docker-engine docker.io</code></pre></li><li>Debian 7 的内核默认为 3.2，为了满足 Docker CE 的需求，应该安装 backports 的内核<br>2.1    Debian 7 Wheezy 使用以下命令<pre><code>  sudo apt-get update sudo apt-get install apt-transport-https ca-certificates curl lsb-release python-software-properties</code></pre>2.2    Debian 8 Jessie 或者 Debian 9 Stretch 使用以下命令<pre><code>  apt-get update &amp; apt-get install apt-transport-https ca-certificates curl gnupg2 lsb-release software-properties-common</code></pre></li></ol><p>安装 </p><ol><li><p>国内源<br>1.1    为了确认所下载软件包的合法性，需要添加软件源的 GPG 密钥。</p><pre><code>  curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/debian/gpg | apt-key add -</code></pre><p>1.2    然后，我们需要向 source.list 中添加 Docker CE 软件源：</p><pre><code>  add-apt-repository &quot;deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/debian $(lsb_release -cs) stable&quot;</code></pre><p>  以上命令会添加稳定版本的 Docker CE APT 镜像源，如果需要最新版本的 Docker CE 请将 stable 改为 edge 或者 test。从 Docker 17.06 开始，edge test 版本的 APT 镜像源也会包含稳定版本的 Docker CE。</p></li><li><p>官方源</p><pre><code>  curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -   add-apt-repository \  &quot;deb [arch=amd64] https://download.docker.com/linux/debian  $(lsb_release -cs) \  stable&quot;</code></pre></li><li><p>Debian 7 需要进行额外的操作<br>3.1    编辑 /etc/apt/sources.list 将 deb-src 一行删除或者使用 # 注释</p><pre><code>  deb-src [arch=amd64] https://download.docker.com/linux/debian wheezy stable</code></pre></li><li><p>安装 Docker CE<br>4.1    更新 apt 软件包缓存，并安装 docker-ce</p><pre><code>  apt-get update   apt-get install docker-ce</code></pre><p>4.2    验证Docker</p><pre><code>  docker -v</code></pre></li><li><p>显示Debian发行版的名称</p><pre><code>  lsb_release -cs</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux设置静态IP</title>
      <link href="/li/7c4cab82.html"/>
      <url>/li/7c4cab82.html</url>
      
        <content type="html"><![CDATA[<p><strong>ArchLinux</strong></p><p>​    1.编辑配置文件</p><p>​            网卡</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">/</span>etc<span class="token operator">/</span>dhcpcd<span class="token punctuation">.</span>conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>​    2.添加下列内容</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">interface</span> <span class="token class-name">eth0</span>                        #设置网卡名<span class="token keyword">static</span> ip_address<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">.</span><span class="token number">0.10</span><span class="token operator">/</span><span class="token number">24</span>                #设置IP和掩码位<span class="token keyword">static</span> routers<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>                    #设置网关<span class="token keyword">static</span> domain_name_servers<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>            #设置DNS<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>​    3.常用命令</p><pre class="line-numbers language-javascript"><code class="language-javascript">systemctl status systemd<span class="token operator">-</span>networkd            #查看网络状态systemctl restart dhcpcd                #重启DHCP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><p><strong>CentOS</strong></p><p>​    1.编辑配置文件</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">/</span>etc<span class="token operator">/</span>sysconfig<span class="token operator">/</span>network<span class="token operator">-</span>scripts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>​    2.清空内容并添加以下内容</p><pre class="line-numbers language-javascript"><code class="language-javascript">TYPE<span class="token operator">=</span><span class="token string">"Ethernet"</span>PROXY_METHOD<span class="token operator">=</span><span class="token string">"none"</span>BROWSER_ONLY<span class="token operator">=</span><span class="token string">"no"</span>BOOTPROTO<span class="token operator">=</span><span class="token string">"none"</span>DEFROUTE<span class="token operator">=</span><span class="token string">"yes"</span>IPV4_FAILURE_FATAL<span class="token operator">=</span><span class="token string">"no"</span>IPV6INIT<span class="token operator">=</span><span class="token string">"yes"</span>IPV6_AUTOCONF<span class="token operator">=</span><span class="token string">"yes"</span>IPV6_DEFROUTE<span class="token operator">=</span><span class="token string">"yes"</span>IPV6_FAILURE_FATAL<span class="token operator">=</span><span class="token string">"no"</span>IPV6_ADDR_GEN_MODE<span class="token operator">=</span><span class="token string">"stable-privacy"</span>NAME<span class="token operator">=</span><span class="token string">"eth0"</span>                                        #网卡名称UUID<span class="token operator">=</span><span class="token string">"5ee00e18-1161-4c0b-b874-1931dbd7ea33"</span>        #IDDEVICE<span class="token operator">=</span><span class="token string">"eth0"</span>ONBOOT<span class="token operator">=</span><span class="token string">"yes"</span>IPADDR<span class="token operator">=</span><span class="token string">"10.0.0.132"</span>                                #静态IP地址PREFIX<span class="token operator">=</span><span class="token string">"28"</span>                                        #掩码位GATEWAY<span class="token operator">=</span><span class="token string">"10.0.0.128"</span>                            #子网掩码DNS1<span class="token operator">=</span><span class="token string">"10.0.0.128"</span>                                #DNS<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>Debian</strong></p><p>​    1.编辑配置文件</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">/</span>etc<span class="token operator">/</span>network<span class="token operator">/</span>interfaces<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>​    2.清空内容并添加以下内容</p><pre class="line-numbers language-javascript"><code class="language-javascript">auto eth0                        #设置网卡名iface eth0 inet <span class="token keyword">static</span>                 address <span class="token number">10.0</span><span class="token punctuation">.</span><span class="token number">0.9</span>                    #设置IP和掩码位netmask <span class="token number">255.255</span><span class="token punctuation">.</span><span class="token number">255.0</span>                     #设置子网掩码gateway <span class="token number">10.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>                    #设置网关<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>Ubuntu</strong></p><p>​    1.编辑配置文件</p><pre class="line-numbers language-javas"><code class="language-javas">/etc/netplan/********.yaml                #*填写对应的名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>​    2.修改内容为如下,本设置为双网卡</p><pre class="line-numbers language-javas"><code class="language-javas">network:    ethernets:        eth0:                        #网卡名称            dhcp4: false                                        addresses: [10.0.0.11/24]            #IP和掩码位            routes:                   - to: 0.0.0.0/0                     via: 10.0.0.1                                         metric: 30                #优先级            optional: true            nameservers:　　　　    addresses: [10.0.0.1,119.29.29.29]        #DNS        eth1:            dhcp4: false            addresses: [10.0.0.131/28]            routes:                    - to: 0.0.0.0/0                      via: 10.0.0.128                      metric: 20            optional: true            nameservers:　　　　    addresses: [10.0.0.128]    version: 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>​    3.重启网卡并</p><pre class="line-numbers language-javas"><code class="language-javas">netplan apply<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vim编辑器</title>
      <link href="/li/73bed3ab.html"/>
      <url>/li/73bed3ab.html</url>
      
        <content type="html"><![CDATA[<h2 id="Vi编辑器"><a href="#Vi编辑器" class="headerlink" title="Vi编辑器"></a>Vi编辑器</h2><ol><li><p><strong><em>Vi的基本概念</em></strong><br>基本上vi可以分为三种状态，分别是命令模式（command mode）、插入模式（Insert mode）和底行模式（last line mode），各模式的功能区分如下:</p><ol><li>命令行模式command mode）<br>控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode。<ol start="2"><li>插入模式（Insert mode）<br>只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。</li><li>底行模式（last line mode）  　　<br>将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……等。  不过一般我们在使用时把vi简化成两个模式，就是将底行模式（last line mode）也算入命令行模式command mode）。</li></ol></li></ol></li></ol><ol start="2"><li><p><strong><em>Vi的基本操作</em></strong></p><ol><li><p>切换至插入模式（Insert mode）编辑文件  　　<br> 在「命令行模式（command mode）」下按一下字母「i」就可以进入「插入模式（Insert mode）」，这时候你就可以开始输入文字了。  </p></li><li><p>Insert 的切换  　　</p><p> 您目前处于「插入模式（Insert mode）」，您就只能一直输入文字，如果您发现输错了字！想用光标键往回移动，将该字删除，就要先按一下「ESC」键转到「命令行模式（command mode）」再删除文字。  </p></li><li><p>退出vi及保存文件  　　</p><p> 在「命令行模式（command mode）」下，按一下「：」冒号键进入「Last line mode」，例如：  : w filename （输入 「w filename」将文章以指定的文件名filename保存）  : wq (输入「wq」，存盘并退出vi)  : q! (输入q!， 不存盘强制退出vi)</p></li></ol></li></ol><pre><code>​    </code></pre><ol start="3"><li><p><strong><em>命令行模式（command mode）功能键</em></strong></p><ol><li><p>插入模式  　　<br> 按「i」切换进入插入模式「insert mode」，按“i”进入插入模式后是从光标当前位置开始输入文件；　　<br> 按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；  　　<br> 按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。  </p></li><li><p>从插入模式切换为命令行模式  　　</p><p> 按「ESC」键。  </p></li><li><p>移动光标  　　</p><p> vi可以直接用键盘上的光标来上下左右移动，但正规的vi是用小写英文字母「h」「j」「k」「l」,分别控制光标左、下、上、右移一格。  　　<br> 按「ctrl」+「b」：屏幕往“后”移动一页。  　　<br> 按「ctrl」+「f」：屏幕往“前”移动一页。  　　<br> 按「ctrl」+「u」：屏幕往“后”移动半页。  　　<br> 按「ctrl」+「d」：屏幕往“前”移动半页。  　　<br> 按数字「0」：移到文章的开头。  　　<br> 按「G」：移动到文章的最后。  　　<br> 按「$」：移动到光标所在行的“行尾”。  　　<br> 按「^」：移动到光标所在行的“行首”  　　<br> 按「w」：光标跳到下个字的开头  　　<br> 按「e」：光标跳到下个字的字尾  　　<br> 按「b」：光标回到上个字的开头  　　<br> 按「#l」：光标移到该行的第#个位置，如：5l,56l。  </p></li><li><p>删除文字  　　</p><p>  按「x」：每按一次，删除光标所在位置的“后面”一个字符。  　　<br>  按「#x」：例如，「6x」表示删除光标所在位置的“后面”6个字符。  　<br>  按「X」：大写的X，每按一次，删除光标所在位置的“前面”一个字符。  　　<br>  按 「#X」：例如，「20X」表示删除光标所在位置的“前面”20个字符。  　　<br>  按「dd」：删除光标所在行。  　　<br>  按「#dd」：从光标所在行开始删除#行  </p></li><li><p>复制</p><p> 复制全部：esc后ggyG<br> 按「yw」：将光标所在之处到字尾的字符复制到缓冲区中。<br> 按「#yw」：复制#个字到缓冲区  　　<br> 按「yy」：复制光标所在行到缓冲区。  　　<br> 按「#yy」：例如，「6yy」表示拷贝从光标所在的该行“往下数”6行文字。  　　<br> 按「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。  </p></li><li><p>替换  　　</p><p> 按「r」：替换光标所在处的字符。  　<br> 按「R」：替换光标所到之处的字符，直到按下「ESC」键为止。  </p></li><li><p>回复上一次操作  　　</p><p> 按「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。  </p></li><li><p>更改  　　</p><p> 按「cw」：更改光标所在处的字到字尾处  　<br> 按「c#w」：例如，「c3w」表示更改3个字  </p></li><li><p>跳至指定的行  　　<br> 按「ctrl」+「g」列出光标所在行的行号。  　　<br> 按「#G」：例如，「15G」，表示移动光标至文章的第15行行首。</p></li></ol></li></ol><ol start="4"><li><p><strong><em>Last line mode下命令简介</em></strong></p><p> 在使用「last line mode」之前，请记住先按「ESC」键确定您已经处于「command mode」下后，再按「：」冒号即可进入「last line mode」。 </p><ol><li><p>列出行号  　<br>  按「set nu」：输入「set nu」后，会在文件中的每一行前面列出行号。  </p><ol start="2"><li><p>跳到文件中的某一行  　</p><p>按「#」：「#」号表示一个数字，在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字15，再回车，就会跳到文章的第15行。  </p></li><li><p>查找字符  　</p><p>按「/关键字」：先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往后寻找到您要的关键字为止。  　<br>按「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止。  </p></li><li><p>保存文件  　</p><p>按「w」：在冒号输入字母「w」就可以将文件保存起来。  </p></li><li><p>离开vi  　</p><p>按「q」：按「q」就是退出，如果无法离开vi，可以在「q」后跟一个「!」强制离开vi。  　<br>按「qw」：一般建议离开时，搭配「w」一起使用，这样在退出的时候还可以保存文件。</p></li></ol></li></ol></li></ol><hr><p><strong><em>Vi命令列表</em></strong></p><ol><li><p>移动光标类命令 </p><p> h :光标左移一个字符<br> l :光标右移一个字符<br> space：光标右移一个字符<br> Backspace：光标左移一个字符<br> k或Ctrl+p：光标上移一行<br> j或Ctrl+n ：光标下移一行<br> Enter ：光标下移一行<br> w或W ：光标右移一个字至字首<br> b或B ：光标左移一个字至字首<br> e或E ：光标右移一个字j至字尾<br> ) ：光标移至句尾<br> ( ：光标移至句首<br> }：光标移至段落开头<br> {：光标移至段落结尾<br> nG：光标移至第n行首<br> n+：光标下移n行<br> n-：光标上移n行<br> n$：光标移至第n行尾<br> H ：光标移至屏幕顶行<br> M ：光标移至屏幕中间行<br> L ：光标移至屏幕最后行<br> 0：（注意是数字零）光标移至当前行首<br> $：光标移至当前行尾</p></li><li><p>屏幕翻滚类命令  </p><p> Ctrl+u：向文件首翻半屏<br> Ctrl+d：向文件尾翻半屏<br> Ctrl+f：向文件尾翻一屏<br> Ctrl＋b；向文件首翻一屏<br> nz：将第n行滚至屏幕顶部，不指定n时将当前行滚至屏幕顶部。</p></li><li><p>插入文本类命令  </p><p> i ：在光标前<br> I ：在当前行首<br> a：光标后<br> A：在当前行尾<br> o：在当前行之下新开一行<br> O：在当前行之上新开一行<br> r：替换当前字符<br> R：替换当前字符及其后的字符，直至按ESC键<br> s：从当前光标位置处开始，以输入的文本替代指定数目的字符<br> S：删除指定数目的行，并以所输入文本代替之<br> ncw或nCW：修改指定数目的字<br> nCC：修改指定数目的行</p></li><li><p>删除命令  </p><p> ndw或ndW：删除光标处开始及其后的n-1个字<br> do：删至行首<br> d$：删至行尾<br> ndd：删除当前行及其后n-1行<br> x或X：删除一个字符，x删除光标后的，而X删除光标前的<br> Ctrl+u：删除输入方式下所输入的文本</p></li><li><p>搜索及替换命令<br>/pattern：从光标开始处向文件尾搜索pattern<br>?pattern：从光标开始处向文件首搜索pattern<br>n：在同一方向重复上一次搜索命令<br>N：在反方向上重复上一次搜索命令<br>：s/p1/p2/g：将当前行中所有p1均用p2替代<br>：n1,n2s/p1/p2/g：将第n1至n2行中所有p1均用p2替代<br>：g/p1/s//p2/g：将文件中所有p1均用p2替换</p></li><li><p>选项设置  </p><p> all：列出所有选项设置情况<br> term：设置终端类型<br> ignorance：在搜索中忽略大小写<br> list：显示制表位(Ctrl+I)和行尾标志（$)<br> number：显示行号<br> report：显示由面向行的命令修改过的数目<br> terse：显示简短的警告信息<br> warn：在转到别的文件时若没保存当前文件则显示NO write信息<br> nomagic：允许在搜索模式中，使用前面不带“\”的特殊字符<br> nowrapscan：禁止vi在搜索到达文件两端时，又从另一端开始<br> mesg：允许vi显示其他用户用write写到自己终端上的信息</p></li><li><p>最后行方式命令  </p><p> ：n1,n2 co n3：将n1行到n2行之间的内容拷贝到第n3行下<br> ：n1,n2 m n3：将n1行到n2行之间的内容移至到第n3行下<br> ：n1,n2 d ：将n1行到n2行之间的内容删除<br> ：w ：保存当前文件<br> ：e filename：打开文件filename进行编辑<br> ：x：保存当前文件并退出<br> ：q：退出vi<br> ：q!：不保存文件并退出vi<br> ：!command：执行shell命令command<br> ：n1,n2 w!command：将文件中n1行至n2行的内容作为command的输入并执行之，若不指  定n1，n2，则表示将整个文件内容作为command的输入<br> ：r!command：将命令command的输出结果放到当前行 。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vim </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
